# Used during deployment with "helmfile charts". Maps environment variables to Helm options and values.
releases:
  - name: '{{ requiredEnv "TENANT_ID" }}-myvendor-myservice'
    namespace: '{{ requiredEnv "TENANT_ID" }}'
    chart: ./

    values:
      - app:
          ingress:
            enabled: true
            domain: 'myvendor-myservice-{{ requiredEnv "PUBLIC_DOMAIN" }}'
          env:
            ASPNETCORE_ENVIRONMENT: '{{ env "ASPNETCORE_ENVIRONMENT" | default "Production" }}'
            Authentication__Authority: 'https://account.{{ requiredEnv "PUBLIC_CLUSTER_DOMAIN" }}'
            Authentication__ApiSecret: '{{ randAlphaNum 16 }}'
