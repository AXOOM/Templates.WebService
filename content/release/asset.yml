feed_uri: http://assets.axoom.cloud/services/myservice.xml
name: My Service
summary: my description
homepage: https://tfs.inside-axoom.org/tfs/axoom/axoom/_git/Axoom.MyService?_a=readme&fullScreen=true

mixins:
  - feed_uri: http://assets.axoom.cloud/mixins/axoom-service.xml
    parameters:
      SERVICE_NAME: myservice
      DOCKER_REGISTRY: <DOCKER_REGISTRY>
      VERSION: <VERSION>
  - feed_uri: http://assets.axoom.cloud/mixins/expose-internal.xml
    parameters:
      SERVICE_NAME: myservice
      PORT: 80
  - feed_uri: http://assets.axoom.cloud/mixins/expose-metrics.xml
    parameters:
      SERVICE_NAME: myservice
      PORT: 5000
  - feed_uri: http://assets.axoom.cloud/mixins/postgres.xml
    version: 9.6..!10.0
    parameters:
      SERVICE_NAME: myservice
      ENV_NAME: MYSERVICE

compose:
  - version: '3.3'
    services:
      myservice:
        environment:
          DATABASE__CONNECTIONSTRING: $MYSERVICE_POSTGRES_CONNECTIONSTRING